(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12c178ee"],{"0ccb":function(t,e,o){var r=o("50c4"),i=o("1148"),a=o("1d80"),n=Math.ceil,c=function(t){return function(e,o,c){var s,l,p=String(a(e)),u=p.length,d=void 0===c?" ":String(c),h=r(o);return h<=u||""==d?p:(s=h-u,l=i.call(d,n(s/d.length)),l.length>s&&(l=l.slice(0,s)),t?p+l:l+p)}};t.exports={start:c(!1),end:c(!0)}},1148:function(t,e,o){"use strict";var r=o("a691"),i=o("1d80");t.exports="".repeat||function(t){var e=String(i(this)),o="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(o+=e);return o}},"2c78":function(t,e,o){},"2e80":function(t,e,o){"use strict";o("2c78")},"4b0b":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"user"},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{"min-height":"100vh"},attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[o("div",{staticClass:"filter-container",staticStyle:{"padding-bottom":"30px"}},[o("el-input",{staticClass:"filter-item",staticStyle:{width:"140px"},attrs:{placeholder:"项目名称"},model:{value:t.listQuery.projectName,callback:function(e){t.$set(t.listQuery,"projectName","string"===typeof e?e.trim():e)},expression:"listQuery.projectName"}}),o("el-input",{staticClass:"filter-item",staticStyle:{width:"140px"},attrs:{placeholder:"创建者"},model:{value:t.listQuery.createBy,callback:function(e){t.$set(t.listQuery,"createBy","string"===typeof e?e.trim():e)},expression:"listQuery.createBy"}}),o("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("搜索")]),o("el-button",{staticClass:"filter-item",staticStyle:{"margin-right":"5px"},attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.reset}},[t._v("重置")]),o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addItem}},[t._v("添加项目")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.myProjectData,border:"","tooltip-effect":"dark"}},[t._l(t.fields,(function(e){return o("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,"min-width":"100",align:"center"},scopedSlots:t._u(["isShow"===e.prop?{key:"default",fn:function(e){return[o("el-checkbox",{on:{change:function(o){return t.handleIsShowChange(e.row)}},model:{value:e.row.isShow,callback:function(o){t.$set(e.row,"isShow",o)},expression:"scope.row.isShow"}},[t._v(" "+t._s(e.row.isShow?"显示":"不显示")+" ")])]}}:{key:"default",fn:function(o){return[t._v(" "+t._s(o.row[e.prop])+" ")]}}],null,!0)})})),o("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return t.modifyItem(e.row)}}},[t._v("修改")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.deleteItem(e.row)}}},[t._v("删除")])]}}])})],2),o("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{background:"",layout:"prev, pager, next","current-page":t.listQuery.pageNum,"page-size":t.listQuery.pageSize,total:t.total},on:{"update:currentPage":function(e){return t.$set(t.listQuery,"pageNum",e)},"update:current-page":function(e){return t.$set(t.listQuery,"pageNum",e)},"current-change":t.handleCurrentChange}}),o("el-dialog",{attrs:{title:"添加项目",visible:t.addDialogVisible},on:{"update:visible":function(e){t.addDialogVisible=e}}},[o("el-form",{attrs:{model:t.newProject,"label-width":"100px"}},t._l(t.fields,(function(e){return["projectName","projectType","projectFrom","projectUnit","projectStatus","totalYield","totalExchangeCount","totalCount","buyCount","buyPeople","projectInformation","isShow"].includes(e.prop)?o("el-form-item",{key:e.prop,attrs:{label:e.label}},["isShow"===e.prop?[o("el-checkbox",{model:{value:t.newProject.isShow,callback:function(e){t.$set(t.newProject,"isShow",e)},expression:"newProject.isShow"}},[t._v(" "+t._s(t.newProject.isShow?"显示":"不显示")+" ")])]:[o("el-input",{model:{value:t.newProject[e.prop],callback:function(o){t.$set(t.newProject,e.prop,o)},expression:"newProject[field.prop]"}})]],2):t._e()})),1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.confirmAdd}},[t._v("确定")])],1)],1),o("el-dialog",{attrs:{title:"修改项目",visible:t.editDialogVisible},on:{"update:visible":function(e){t.editDialogVisible=e}}},[o("el-form",{attrs:{model:t.editProject,"label-width":"100px"}},t._l(t.fields,(function(e){return["projectId","projectName","projectType","projectFrom","projectUnit","projectStatus","totalYield","totalExchangeCount","totalCount","buyCount","buyPeople","projectInformation","isShow"].includes(e.prop)?o("el-form-item",{key:e.prop,attrs:{label:e.label}},["isShow"===e.prop?[o("el-checkbox",{model:{value:t.editProject.isShow,callback:function(e){t.$set(t.editProject,"isShow",e)},expression:"editProject.isShow"}},[t._v(" "+t._s(t.editProject.isShow?"显示":"不显示")+" ")])]:"projectId"===e.prop?[o("el-input",{attrs:{disabled:""},model:{value:t.editProject[e.prop],callback:function(o){t.$set(t.editProject,e.prop,o)},expression:"editProject[field.prop]"}})]:[o("el-input",{model:{value:t.editProject[e.prop],callback:function(o){t.$set(t.editProject,e.prop,o)},expression:"editProject[field.prop]"}})]],2):t._e()})),1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.confirmEdit}},[t._v("保存")])],1)],1)],1)])},i=[],a=o("5530"),n=(o("d3b7"),o("159b"),o("4d90"),o("25f0"),o("e9c4"),{name:"ProjectManagement",data:function(){return{listLoading:!1,myProjectData:[],fields:[{prop:"id",label:"项目ID"},{prop:"createBy",label:"创建者"},{prop:"publishTime",label:"发布时间"},{prop:"projectName",label:"项目名称"},{prop:"projectType",label:"项目类型"},{prop:"projectFrom",label:"项目来源"},{prop:"projectUnit",label:"项目单价"},{prop:"projectStatus",label:"项目状态"},{prop:"buyPeople",label:"购买人数"},{prop:"buyCount",label:"已购买订单"},{prop:"totalCount",label:"总数量"},{prop:"dailyEarning",label:"每日收益"},{prop:"yesterdayEarning",label:"昨日收益"},{prop:"totalExchangeCount",label:"累计兑换数量"},{prop:"totalYield",label:"总收益率"},{prop:"projectInformation",label:"项目信息"},{prop:"isShow",label:"是否显示"}],listQuery:{pageNum:1,pageSize:10,projectName:"",createBy:""},total:0,addDialogVisible:!1,newProject:{projectName:"",projectType:"",projectFrom:"",projectUnit:"",projectStatus:"",totalYield:"",totalExchangeCount:"",totalCount:"",buyCount:"",buyPeople:"",projectInformation:"",isShow:!0},editDialogVisible:!1,editProject:{}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,this.$http.get("/moproject/project/queryProject?projectName=DOA").then((function(e){"SUCCEED"===e.status?(t.myProjectData=e.result.records||[],console.log(t.myProjectData,"this.myProjectDatathis.myProjectData"),t.myProjectData.forEach((function(e){e.isShow=1===e.isShow,e.publishTime=t.formatDate(e.publishTime),e.createTime=t.formatDate(e.createTime)})),t.total=e.result.total||0):t.$message.error(e.errorMessage||"获取项目列表失败"),t.listLoading=!1})).catch((function(e){t.listLoading=!1,t.$message.error("获取项目列表失败")}))},formatDate:function(t){if(!t)return"";var e=new Date(t),o=e.getFullYear()+"-",r=(e.getMonth()+1).toString().padStart(2,"0")+"-",i=e.getDate().toString().padStart(2,"0")+" ",a=e.getHours().toString().padStart(2,"0")+":",n=e.getMinutes().toString().padStart(2,"0")+":",c=e.getSeconds().toString().padStart(2,"0");return o+r+i+a+n+c},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},reset:function(){this.listQuery={pageNum:1,pageSize:10,projectName:"",createBy:""},this.getList()},addItem:function(){this.newProject={projectName:"",projectType:"",projectFrom:"",projectUnit:"",projectStatus:"",totalYield:"",totalExchangeCount:"",totalCount:"",buyCount:"",buyPeople:"",projectInformation:"",isShow:!0},this.addDialogVisible=!0},confirmAdd:function(){var t=this,e={projectName:this.newProject.projectName,projectFrom:this.newProject.projectFrom,projectUnit:this.newProject.projectUnit,projectStatus:this.newProject.projectStatus,isShow:this.newProject.isShow?1:0,projectType:this.newProject.projectType,totalYield:this.newProject.totalYield,totalExchangeCount:this.newProject.totalExchangeCount,totalCount:this.newProject.totalCount,buyCount:this.newProject.buyCount,buyPeople:this.newProject.buyPeople,projectInformation:this.newProject.projectInformation};console.log(e,"projectDataprojectData"),this.$http.post("/moproject/project/saveProject",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){"SUCCEED"===e.status?(t.$message.success(e.result||"项目添加成功"),t.addDialogVisible=!1,t.getList()):t.$message.error(e.errorMessage||"添加项目失败")})).catch((function(e){t.$message.error("添加项目失败")}))},modifyItem:function(t){this.editProject=Object(a["a"])({},t),this.editDialogVisible=!0},confirmEdit:function(){var t=this,e={projectId:this.editProject.projectId,projectName:this.editProject.projectName,projectFrom:this.editProject.projectFrom,projectUnit:this.editProject.projectUnit,projectStatus:this.editProject.projectStatus,isShow:this.editProject.isShow?1:0,projectType:this.editProject.projectType,totalYield:this.editProject.totalYield,totalExchangeCount:this.editProject.totalExchangeCount,totalCount:this.editProject.totalCount,buyCount:this.editProject.buyCount,buyPeople:this.editProject.buyPeople,projectInformation:this.editProject.projectInformation};this.$http.post("/moproject/project/updateProjectDto",e,{headers:{"Content-Type":"application/json"}}).then((function(e){"SUCCEED"===e.status?(t.$message.success(e.result||"项目修改成功"),t.editDialogVisible=!1,t.getList()):t.$message.error(e.errorMessage||"修改项目失败")})).catch((function(e){t.$message.error("修改项目失败")}))},deleteItem:function(t){var e=this;console.log(t.projectId,"row.projectIdrow.projectId"),this.$confirm("确定要删除该项目吗？","提示",{type:"warning"}).then((function(){e.$http.delete("/moproject/project/deleteProject",{params:{projectId:t.projectId}}).then((function(t){"SUCCEED"===t.status?(e.$message.success(t.result||"项目已删除"),e.getList()):e.$message.error(t.errorMessage||"删除项目失败")})).catch((function(t){e.$message.error("删除项目失败")}))})).catch((function(){}))},handleIsShowChange:function(t){var e=this,o={projectId:t.projectId,projectName:t.projectName,projectFrom:t.projectFrom,projectUnit:t.projectUnit,projectStatus:t.projectStatus,isShow:t.isShow?1:0,projectType:t.projectType,totalYield:t.totalYield,totalExchangeCount:t.totalExchangeCount,totalCount:t.totalCount,buyCount:t.buyCount,buyPeople:t.buyPeople,projectInformation:t.projectInformation};this.$http.post("/moproject/project/updateProjectDto",o,{headers:{"Content-Type":"application/json"}}).then((function(t){"SUCCEED"===t.status?(e.$message.success("是否显示已更新"),e.getList()):e.$message.error(t.errorMessage||"更新是否显示失败")})).catch((function(t){e.$message.error("更新是否显示失败")}))}}}),c=n,s=(o("2e80"),o("2877")),l=Object(s["a"])(c,r,i,!1,null,"48c2189e",null);e["default"]=l.exports},"4d90":function(t,e,o){"use strict";var r=o("23e7"),i=o("0ccb").start,a=o("9a0c");r({target:"String",proto:!0,forced:a},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"9a0c":function(t,e,o){var r=o("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},e9c4:function(t,e,o){var r=o("23e7"),i=o("d066"),a=o("d039"),n=i("JSON","stringify"),c=/[\uD800-\uDFFF]/g,s=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,p=function(t,e,o){var r=o.charAt(e-1),i=o.charAt(e+1);return s.test(t)&&!l.test(i)||l.test(t)&&!s.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},u=a((function(){return'"\\udf06\\ud834"'!==n("\udf06\ud834")||'"\\udead"'!==n("\udead")}));n&&r({target:"JSON",stat:!0,forced:u},{stringify:function(t,e,o){var r=n.apply(null,arguments);return"string"==typeof r?r.replace(c,p):r}})}}]);